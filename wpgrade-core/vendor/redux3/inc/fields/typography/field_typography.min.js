jQuery.noConflict(),jQuery(document).ready(function(a){function b(b){var c=jQuery(b).parents(".redux-container-typography:first").attr("data-id");a(b).hasClass("redux-typography-family");var d=a("#"+c+" select.redux-typography-family").val();d||(d=null);var e=a("#"+c+" select.redux-typography-family-backup").val(),f=a("#"+c+" .redux-typography-size").val(),g=a("#"+c+" .redux-typography-height").val(),h=a("#"+c+" .redux-typography-word").val(),i=a("#"+c+" .redux-typography-letter").val(),j=a("#"+c+" select.redux-typography-align").val(),k=a("#"+c+" select.redux-typography-transform").val(),l=a("#"+c+" select.redux-typography-font-variant").val(),m=a("#"+c+" select.redux-typography-decoration").val(),n=a("#"+c+" select.redux-typography-style").val(),o=a("#"+c+" select.redux-typography-subsets").val(),p=a("#"+c+" .redux-typography-color").val(),q=a("#"+c).data("units"),r=a("#"+c+" .redux-typography-family option:selected"),s=d,t=r.data("google");a("#"+c).hasClass("typography-initialized")||(n=a("#"+c+" select.redux-typography-style").data("value"),o=a("#"+c+" select.redux-typography-subsets").data("value"),""!==n&&(n=String(n)),void 0!==typeof o&&(o=String(o)));var u="";if(void 0===redux.fonts.google&&(t=!1),t&&d in redux.fonts.google?u=redux.fonts.google[d]:r.data("details")&&(u=jQuery.parseJSON(decodeURIComponent(r.data("details"))),a("#"+c+" .redux-typography-font-options").val(decodeURIComponent(r.data("details")))),a(b).hasClass("redux-typography-family")){var v='<option value=""></option>';if(t){var w="";a.each(u.variants,function(a,b){b.id===n||1===Object.size(u.variants)?(w=' selected="selected"',n=b.id):w="",v+='<option value="'+b.id+'"'+w+">"+b.name.replace(/\+/g," ")+"</option>"}),a("#"+c+" .redux-typography-style").html(v),w="",v='<option value=""></option>',a.each(u.subsets,function(a,b){b.id===o||1===Object.size(u.subsets)?(w=' selected="selected"',o=b.id):w="",v+='<option value="'+b.id+'"'+w+">"+b.name.replace(/\+/g," ")+"</option>"}),"undefined"!=typeof e&&""!==e&&(s+=", "+e),a("#"+c+" .redux-typography-subsets").html(v),a("#"+c+" .redux-typography-subsets").parent().fadeIn("fast"),a("#"+c+" .typography-family-backup").fadeIn("fast")}else u&&(a.each(u,function(b,d){b===n||"normal"===b?(w=' selected="selected"',a("#"+c+" .typography-style .select2-chosen").text(d)):w="",v+='<option value="'+b+'"'+w+">"+d.replace("+"," ")+"</option>"}),a("#"+c+" .redux-typography-style").html(v),a("#"+c+" .redux-typography-subsets").parent().fadeOut("fast"),a("#"+c+" .typography-family-backup").fadeOut("fast"))}else a(b).hasClass("redux-typography-family-backup")&&""!==e&&a("#"+c+" .redux-typography-font-family").val(s);0===a("#"+c+" select.redux-typography-style option[value='"+n+"']").length?(n="",a("#"+c+" select.redux-typography-style").val("")):"400"===n&&a("#"+c+" select.redux-typography-style").val(n),0===a("#"+c+" select.redux-typography-subsets option[value='"+o+"']").length&&(o="",a("#"+c+" select.redux-typography-subsets").val(""));var x="style_link_"+c;if(a("."+x).remove(),null!==d&&"inherit"!==d&&a("#"+c).hasClass("typography-initialized")){var y=d.replace(/\s+/g,"+");if(t){var z=y;n&&(z+=":"+n.replace(/\-/g," ")),o&&(z+="&subset="+o),"undefined"!=typeof WebFont&&WebFont&&WebFont.load({google:{families:[z]}}),a("#"+c+" .redux-typography-google").val(!0)}else a("#"+c+" .redux-typography-google").val(!1)}if(-1!==n.indexOf("italic")?(a("#"+c+" .typography-preview").css("font-style","italic"),a("#"+c+" .typography-font-style").val("italic"),n=n.replace("italic","")):a("#"+c+" .typography-font-style").val(""),a("#"+c+" .typography-font-weight").val(n),g||(g=f),a("#"+c+" .typography-font-size").val(""===f?"":f+q),a("#"+c+" .typography-line-height").val(""===g?"":g+q),a("#"+c+" .typography-word-spacing").val(h+q),a("#"+c+" .typography-letter-spacing").val(i+q),a("#"+c).hasClass("typography-initialized")){var A=a("#"+c+" .typography-preview").data("preview-size");"0"==A&&a("#"+c+" .typography-preview").css("font-size",f+q),a("#"+c+" .typography-preview").css("font-style","normal"),a("#"+c+" .typography-preview").css("font-weight",n),a("#"+c+" .typography-preview").css("font-family",d+", sans-serif"),"none"===d&&""===d&&a("#"+c+" .typography-preview").css("font-family","inherit"),a("#"+c+" .typography-preview").css("line-height",g+q),a("#"+c+" .typography-preview").css("word-spacing",h+q),a("#"+c+" .typography-preview").css("letter-spacing",i+q),p&&(a("#"+c+" .typography-preview").css("color",p),a("#"+c+" .typography-preview").css("background-color",getContrastColour(p))),a("#"+c+" .redux-typography-font-family").val(s),a("#"+c+" .typography-style .select2-chosen").text(a("#"+c+" .redux-typography-style option:selected").text()),a("#"+c+" .typography-script .select2-chosen").text(a("#"+c+" .redux-typography-subsets option:selected").text()),j&&a("#"+c+" .typography-preview").css("text-align",j),k&&a("#"+c+" .typography-preview").css("text-transform",k),l&&a("#"+c+" .typography-preview").css("font-variant",l),m&&a("#"+c+" .typography-preview").css("text-decoration",m),a("#"+c+" .typography-preview").slideDown()}a("#"+c).hasClass("typography-initialized")||a("#"+c).addClass("typography-initialized")}Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},jQuery(".redux-typography-container").each(function(){var a=jQuery(this).find(".redux-typography-family");""!==a.data("value")&&jQuery(a).val(a.data("value")),b(a),window.onbeforeunload=null}),jQuery(".redux-typography").on("change",function(){b(this)}),jQuery(".redux-typography-size, .redux-typography-height, .redux-typography-word, .redux-typography-letter, .redux-typography-align, .redux-typography-transform, .redux-typography-font-variant, .redux-typography-decoration").keyup(function(){b(this)}),a(".redux-typography-color").wpColorPicker({change:function(a,c){redux_change(jQuery(this)),jQuery(this).val(c.color.toString()),b(jQuery(this))}}),jQuery(".redux-typography-size").numeric({allowMinus:!1}),jQuery(".redux-typography-height, .redux-typography-word, .redux-typography-letter").numeric({allowMinus:!0}),jQuery(".redux-typography-family, .redux-typography-family-backup, .redux-typography-align, .redux-typography-transform, .redux-typography-font-variant, .redux-typography-decoration").select2({width:"resolve",triggerChange:!0,allowClear:!0})});